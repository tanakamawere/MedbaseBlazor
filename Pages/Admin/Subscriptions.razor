@page "/admin/subscriptions"
@layout AdminLayout
@inject IApiRepository repository


<MudContainer>
    <MudPaper>
        <MudTable Items="subscriptions" Class="table table-striped">
            <HeaderContent>
                <MudTh>Id</MudTh>
                <MudTh>Name</MudTh>
                <MudTh>Description</MudTh>
                <MudTh>Price</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd>@context.Id</MudTd>
                <MudTd>@context.Name</MudTd>
                <MudTd>@context.Description</MudTd>
                <MudTd>@context.Price</MudTd>
            </RowTemplate>
        </MudTable>
    </MudPaper>
</MudContainer>


@code {
    private IEnumerable<Subscription> subscriptions = Enumerable.Empty<Subscription>();

    protected override async Task OnInitializedAsync()
    {
        subscriptions = await repository.GetSubscriptionsAsync();
    }
}
